function n(n,t=0,i={}){let o,e;const r=i.maxWait?i.maxWait:t;let a,u,c,f=0;const l=!!i.leading,d="maxWait"in i,m=i.trailing??!0,s=0!==t&&"function"==typeof global.requestAnimationFrame;if("function"!=typeof n)throw new TypeError("Expected a function");function p(t){const i=o,r=e;return o=e=void 0,f=t,a=n.apply(r,i),a}function g(n,t){return s?("number"==typeof u&&global.cancelAnimationFrame(u),global.requestAnimationFrame(n)):setTimeout(n,t)}function v(n){const i=n-(c||0);return void 0===c||i>=t||i<0||d&&n-f>=r}function w(){const n=Date.now();if(v(n))return x(n);u=g(w,function(n){const i=n-f,o=t-(n-(c||0));return d?Math.min(o,r-i):o}(n))}function x(n){return u=void 0,m&&o?p(n):(o=e=void 0,a)}function y(...n){const i=Date.now(),r=v(i);if(o=n,e=this,c=i,r){if(void 0===u)return function(n){return f=n,u=g(w,t),l?p(n):a}(c);if(d)return u=g(w,t),p(c)}return void 0===u&&(u=g(w,t)),a}return y.cancel=function(){var n;void 0!==u&&(n=u,s?global.cancelAnimationFrame(n):clearTimeout(n)),f=0,o=c=e=u=void 0},y.flush=function(){return void 0===u?a:x(Date.now())},y.pending=function(){return void 0!==u},y}function t(t,i,o={}){const e=o.leading??!0,r=o.trailing??!0;if("function"!=typeof t)throw new TypeError("Expected a function");return n(t,i,{leading:e,trailing:r,maxWait:i})}export{n as debounce,t as throttle};
